# 问题用例
### ble
- 在连接过程断开连接
- 信号较差时连接
- 连接特征服务错误
- 连接特征值错误
- 通讯格式错误
- 获取token失败
### wifi(重点)
- 连接wifi时断网
- 连接wifi时路由器断电
- 连接wifi时路由器重启
- 连接wifi时路由器重置
- hub电源能力较差
- 连接时信号较差
- 非活动超时断开
- 解除认证不活跃的客户端
- 路由器断开设备连接
- 密码错误
- 密码为空
- 密码格式错误
    - 要求输入字符时，输入16进制数字
    - 要求输入16进制数字时，输入字符
- 密码特殊字符
- 密码特殊长度
    - 小于8
    - 大于64
- SSID不存在
- SSID特殊字符
- SSID特殊长度
- SSID为空
- 禁用SSID广播
- 连接开放网络
- 连接隐藏网络
- IP地址冲突
    - 与路由器具有相同的IP
    - 在局域网中具有相同IP的设备
- IP地址共享
- 无法获取有效IP地址
- DHCP服务器无法正常分配IP地址
- DNS服务器地址无效
- DNS解析失败
- 频率干扰
- 客户端数量限制
- 最大 IPv4 用户数
- 路由器黑名单
- 带宽限制
- 信道切换
- MAC地址过滤
- 安全认证问题
    - 测试设备能否正确处理从一种认证方式切换到另一种认证方式的情况(在线切换和离线切换)
        - 从WPA3切换至WPA2
        - 从WPA2切换至WPA
        - 从WPA3切换至WPA
        - 从WPA切换至WPA2
        - 从WPA切换至WPA3
        - 从WPA2切换至WPA3
    - 从个人切换至企业级
    - 从企业级切换至个人
    - 测试设备能否正确处理连接到需要企业级认证的WiFi网络
        - 用户名和密码错误
        - 用户名为空
        - 密码为空
    - 在连接企业级wifi时输入个人wifi的配置项
    - 在连接个人wifi时输入企业级wifi的配置项
### coap
- coap建立连接失败
- 在断网时进行coap连接
- setupToken将自身绑定到资产下失败
- 防火墙限制
- 端口限制



BLE 异常分类：
    连接相关异常：
        连接过程中断或超时
        信号弱导致连接丢失或不稳定
        连接被拒绝或权限不足

    通讯协议或数据异常：
        服务或特征不可读或不可写
        服务或特征不存在或未被广播
        数据格式与通讯协议不匹配

    认证/授权相关异常：
        获取 Token 失败
        未知错误或异常

Wi-Fi 异常分类：
    连接配置问题：
        SSID为空或不存在
        SSID包含特殊字符
        密码错误或包含特殊字符
        输入16进制数字或字符时密码错误
        Wi-Fi配置混淆（个人与企业级）
        Wi-Fi连接后切换AP级别配置

    认证/授权相关异常：
        不支持的认证方法或加密协议
        身份验证失败（用户名/密码错误）
        企业级模式下，用户名或密码错误
        企业级模式下，用户名或密码为空

    网络连接问题：
        硬件故障导致Wi-Fi模块失效
        网络拥堵或过载导致连接失败
        认证超时或认证服务器不可用
        IP地址池耗尽导致无法分配IP地址
        DNS解析错误或DNS服务器不可达
        无法分配有效的默认网关
        无法建立TCP连接
        MAC地址冲突或路由器与设备间通信问题
        连接Wi-Fi时网络中断
        路由器断电或重启导致连接中断
        Wi-Fi信号弱导致连接失败
        连接开放、SSID隐藏或SSID禁用网络
        IP地址冲突或局域网中相同IP
        DHCP分配问题或无法获取有效IP地址
        客户端非活动超时断开或认证失败
        路由器限制问题（频率干扰、客户端数量等）
        IPv4用户数或带宽限制导致连接失败
        信道切换或MAC地址过滤影响连接
        最大传输单元（MTU）限制导致通信问题
        WPA/WPA2/WPA3间切换问题

    连接状态管理：
        断网时尝试CoAP连接

Ethernet 异常分类：
    物理连接问题：
        网线接触不良或损坏
        网络设备故障导致连接中断
        以太网芯片初始化失败

    网络配置问题：
        无法分配有效的IP地址
        IP地址冲突
        DNS解析错误或DNS服务器不可达
        无法建立TCP连接
        网络设置不匹配或不兼容
        网络中断导致连接丢失
        MAC地址被过滤或未添加授权

    认证/授权相关异常：
        连接被拒绝或权限不足
        未知错误或异常

CoAP 异常分类：
    服务器或网络问题：
        服务器不可用或不支持CoAP协议
        响应超时或未收到响应
        连接中断或丢失
        建立连接失败或连接被拒绝
        无法验证服务器身份
        防火墙或端口限制导致连接问题


## 错误码组对应的错误内容

- （5 201）：
```
1. SSID不存在 //无
2. Wi-Fi配置混淆（个人与企业级）// wifi:AKM mismatch: AP is WPA2-PSK
3. 不支持的认证方法或加密协议
4. 连接了禁用SSID的网络
```

## 错误内容对应的错误码组(其中的错误码组只代表了这一种情况)

- 密码错误
```
1. （5  15）（5  205）
2. （5  202）（5  205）
```
- 企业级模式下，用户名或密码错误
```
（5 1）（5 205）
```
- 客户端连接数量限制
```
(5 5) (5 205)
```
- MAC地址过滤
```
1. (5 2) (5 205)
2. (5 37) (5 202) (5 205)
```
- 认证服务器认证超时
```
(5 204) (5 205)
```
- 路由器断电
```
(21) (5 200) (5 201)
```
- 路由器重启
```
1.(21) (5 3) (5 205) (5 201)
2.(21) (5 200) (5 201)
```
- 认证方式切换(个人)
```
1.(21)(5 7)...(4)
2.(5 113)(5 201)...(4)
3.(5 3)(5 2)(5 201)...(4)
4.(21)(5 200)(5 201)...(4)
5.(21)(5 201)
```

# 错误内容对应的日志
- SSID为空
```
OSError：Wifi SSID Incalid
```
- 企业级模式下，用户名或密码为空
```
RuntimeError: Wifi UnKnown Error 0x0102
```
- 无法获取到IP地址
```
wifi连接超时
```
- DNS地址无效
```
- OSError: -202
```
- TCP连接限制
```
- ValueError: Timeout
```
- MAC地址冲突
```
- OSError: -202
- ValueError: open connection OSError
```
- 上下行速率限制
```
- ValueError: Timeout
- OSError: -202
```
