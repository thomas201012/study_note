# lvgl学习笔记
## 项目中lvgl运行流程，及界面、控件创建思路。
## 以dock_hub为例
### 多界面及开机显示创建、显示思路。
+ 在`ui.init()`中，完成了lvgl和显示亮度的初始化后，通过`apps.init()`和`__loop()`这两个函数分别完成开机初始化和主页面的加载。其中`__loop()`为死循环函数，以便后续界面的切换。
    + `apps.init()`完成了以下的步骤：
        + 1、`self.appWaitShowLogo(True)`:开机界面初始化。
        + 2、app的初始化：将需要加载的节目存储至`ui_apps`列表中，方便后续的跳转
        + 3、开机演示一段时间，并完成加载条的加载。
        + 4、`self.appWaitShowLogo(False)` :关闭开机界面。
        + 5、`self.appEnter()`:显示一段字符，表示正在等待主页面加载（一般不会显示）
    + `__loop()`完成了以下功能：
        + 1、`gc.collect()`:内存清理，垃圾回收。
        + 2、`apps.refresh()`:界面的切换及初始化（每次切换都会重新初始化界面）
            + 1、`pNotifiction.on_refresh()`:通知弹窗的显示。
            + 2、`self.ui_apps[self.ui_index].on_refresh()`：完成相对应界面的跳转，并进行界面的初始化。
---
## 界面的创建
+ 想要完成一个界面的创建，首先需要在`ui/apps`中创建相应功能的文件夹，并在`apps/__init__.py/BUILD_IN_APPS`列表中添加相应的界面。
+ 在对应界面的文件夹中，需要创建一个`__init__.py`文件，文件中一般包含如下函数：
    + `on_enter()`：在界面切换时，会跳转至此程序，一般用来完成对界面的初始化等待。
    + `on_refresh()`：在界面完成切换后，会一直循环进入次函数，一般用来完成对界面的数据修改。
    + `_init()`：一般会在上面两个函数中进行调用，此函数用来存放界面的渲染函数。

---
## 常用API

---